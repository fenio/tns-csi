# StorageClass with ZFS properties for NFS testing
# Tests: compression, atime, recordsize
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: tns-csi-nfs-zfsprops
provisioner: tns.csi.io
parameters:
  protocol: "nfs"
  pool: "${TRUENAS_POOL}"
  server: "${TRUENAS_HOST}"
  # ZFS properties with zfs. prefix
  zfs.compression: "lz4"
  zfs.atime: "off"
  zfs.recordsize: "128K"
allowVolumeExpansion: true
reclaimPolicy: Delete
volumeBindingMode: Immediate
